# å­—æ®µè¡€ç¼˜å¯è§†åŒ–å·¥å…·

ä¸€ä¸ªåŸºäº React + ReactFlow çš„å­—æ®µçº§è¡€ç¼˜å…³ç³»å¯è§†åŒ–å·¥å…·,æ”¯æŒäº¤äº’å¼é€å±‚å±•å¼€ä¸Šæ¸¸ä¾èµ–ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š **å¯è§†åŒ–å±•ç¤º**: ç›´è§‚å±•ç¤ºè¡¨å’Œå­—æ®µçš„è¡€ç¼˜å…³ç³»
- ğŸ” **é€å±‚å±•å¼€**: ç‚¹å‡»å­—æ®µå¯ä»¥é€å±‚å±•å¼€æŸ¥çœ‹ä¸Šæ¸¸ä¾èµ–
- ğŸ“ **Excelå¯¼å…¥**: æ”¯æŒä»Excelæ–‡ä»¶å¯¼å…¥è¡€ç¼˜æ•°æ®
- ğŸ¨ **äº¤äº’ä½“éªŒ**: æ”¯æŒç¼©æ”¾ã€æ‹–æ‹½ã€minimapç­‰äº¤äº’åŠŸèƒ½
- ğŸ“ **è¯¦ç»†ä¿¡æ¯**: æ˜¾ç¤ºSQLæ–‡ä»¶ã€unionåˆ†æ”¯ç­‰å…ƒæ•°æ®

## å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
npm install
```

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

åº”ç”¨å°†åœ¨ http://localhost:3000 å¯åŠ¨

### æ„å»ºç”Ÿäº§ç‰ˆæœ¬

```bash
npm run build
```

## æ•°æ®æ ¼å¼

Excelæ–‡ä»¶éœ€è¦åŒ…å«ä»¥ä¸‹åˆ—:

| åˆ—å | è¯´æ˜ | å¿…éœ€ |
|------|------|------|
| target_table_db | ç›®æ ‡è¡¨æ•°æ®åº“ | âœ… |
| target_table_name | ç›®æ ‡è¡¨å | âœ… |
| target_column | ç›®æ ‡å­—æ®µ | âœ… |
| source_db | æºæ•°æ®åº“ | âœ… |
| source_table_name | æºè¡¨å | âœ… |
| source_column | æºå­—æ®µ | âœ… |
| union_branch | unionåˆ†æ”¯ | âŒ |
| sql_file | SQLæ–‡ä»¶å | âŒ |

### ç¤ºä¾‹æ•°æ®

```
target_table_db,target_table_name,target_column,source_db,source_table_name,source_column,union_branch,sql_file
wx_dwsdbplaceholder_env_flag,dws_trd_full_link_tushu_trans_info_fd,first_act_time,wx_tmpdb,tmp_up_tushu_div_user_lebal_fd,first_act_time,branch_1,dws_trd_full_link_tushu_trans_info_fd.sql
wx_dwsdbplaceholder_env_flag,dws_trd_full_link_tushu_trans_info_fd,first_act_type,wx_tmpdb,tmp_up_tushu_div_user_lebal_fd,first_act_type,branch_1,dws_trd_full_link_tushu_trans_info_fd.sql
```

## ä½¿ç”¨è¯´æ˜

### 1. ä¸Šä¼ æ•°æ®

ç‚¹å‡»å³ä¸Šè§’çš„"ä¸Šä¼ Excelæ–‡ä»¶"æŒ‰é’®,é€‰æ‹©åŒ…å«è¡€ç¼˜æ•°æ®çš„Excelæ–‡ä»¶ã€‚

### 2. é€‰æ‹©è¡¨

ä¸Šä¼ æˆåŠŸå,åœ¨é¡¶éƒ¨ä¸‹æ‹‰æ¡†ä¸­é€‰æ‹©è¦æŸ¥çœ‹çš„è¡¨ã€‚

### 3. æŸ¥çœ‹å­—æ®µ

ç³»ç»Ÿä¼šæ˜¾ç¤ºè¯¥è¡¨çš„æ‰€æœ‰å­—æ®µ,ä»¥åŠè¡¨åˆ°å­—æ®µçš„è¿çº¿ã€‚

### 4. å±•å¼€ä¸Šæ¸¸

ç‚¹å‡»å­—æ®µèŠ‚ç‚¹ä¸Šçš„"å±•å¼€ä¸Šæ¸¸"æŒ‰é’®,å¯ä»¥æŸ¥çœ‹è¯¥å­—æ®µçš„ä¸Šæ¸¸ä¾èµ–:
- æ˜¾ç¤ºä¸Šæ¸¸è¡¨å’Œä¸Šæ¸¸å­—æ®µ
- æ˜¾ç¤ºå­—æ®µé—´çš„è¡€ç¼˜å…³ç³»è¿çº¿
- å¯ä»¥ç»§ç»­ç‚¹å‡»ä¸Šæ¸¸å­—æ®µ,é€å±‚å‘ä¸Šè¿½æº¯

### 5. æ”¶èµ·ä¸Šæ¸¸

ç‚¹å‡»å·²å±•å¼€å­—æ®µçš„"æ”¶èµ·ä¸Šæ¸¸"æŒ‰é’®,å¯ä»¥éšè—è¯¥å­—æ®µçš„ä¸Šæ¸¸ä¾èµ–ã€‚

### 6. å›¾å½¢æ“ä½œ

- **ç¼©æ”¾**: ä½¿ç”¨é¼ æ ‡æ»šè½®æˆ–å³ä¸‹è§’æ§åˆ¶æŒ‰é’®
- **æ‹–æ‹½**: æ‹–åŠ¨èŠ‚ç‚¹è°ƒæ•´ä½ç½®
- **å¹³ç§»**: æ‹–åŠ¨ç”»å¸ƒç©ºç™½åŒºåŸŸ
- **Miniåœ°å›¾**: å³ä¸‹è§’æ˜¾ç¤ºæ•´ä½“ç»“æ„,ç‚¹å‡»å¿«é€Ÿå®šä½

## æŠ€æœ¯æ ˆ

- **React 18**: å‰ç«¯æ¡†æ¶
- **ReactFlow**: æµç¨‹å›¾/å…³ç³»å›¾å¯è§†åŒ–
- **Vite**: æ„å»ºå·¥å…·
- **SheetJS (xlsx)**: Excelæ–‡ä»¶è§£æ

## é¡¹ç›®ç»“æ„

```
columnlineage_visual/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ FileUploader.jsx      # æ–‡ä»¶ä¸Šä¼ ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ LineageGraph.jsx      # è¡€ç¼˜å›¾ä¸»ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ FieldNode.jsx         # å­—æ®µèŠ‚ç‚¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ TableNode.jsx         # è¡¨èŠ‚ç‚¹ç»„ä»¶
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ dataParser.js         # æ•°æ®è§£æå·¥å…·
â”‚   â”œâ”€â”€ App.jsx                   # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ main.jsx                  # åº”ç”¨å…¥å£
â”‚   â””â”€â”€ index.css                 # å…¨å±€æ ·å¼
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â””â”€â”€ README.md
```

## å¼€å‘è¯´æ˜

### è‡ªå®šä¹‰æ ·å¼

- è¡¨èŠ‚ç‚¹: ç´«è‰²æ¸å˜èƒŒæ™¯
- å­—æ®µèŠ‚ç‚¹: ç™½è‰²èƒŒæ™¯,ç»¿è‰²è¾¹æ¡†(å±•å¼€æ—¶å˜ä¸ºè“è‰²)
- è¿çº¿: ç°è‰²é™æ€çº¿(è¡¨åˆ°å­—æ®µ),è“è‰²åŠ¨ç”»çº¿(å­—æ®µä¾èµ–)

### æ‰©å±•åŠŸèƒ½

å¯ä»¥åœ¨ä»¥ä¸‹æ–¹é¢è¿›è¡Œæ‰©å±•:
- æ·»åŠ æœç´¢åŠŸèƒ½
- æ”¯æŒå¯¼å‡ºå›¾ç‰‡
- æ·»åŠ å­—æ®µè¯¦æƒ…é¢æ¿
- æ”¯æŒæ›´å¤šæ•°æ®æºæ ¼å¼

## License

MIT
